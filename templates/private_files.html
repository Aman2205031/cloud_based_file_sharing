{% extends "base.html" %}
{% block content %}
<h1>ðŸ”’ Private Files</h1>

<table>
    <thead>
        <tr>
            <th>ðŸ“„ Filename</th>
            <th>ðŸ“¥ Download</th>
            <th>ðŸ”“ Make Public</th>
        </tr>
    </thead>
    <tbody>
        {% for file in private_files %}
        <tr>
            <td>{{ file.filename }}</td>
            <td><button onclick="downloadFile('{{ file.filename }}')">ðŸ“¥ Download</button></td>
            <td><button onclick="makePublic('{{ file.filename }}')">ðŸ”“ Public</button></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script>
function downloadFile(filename) {
    window.location.href = "/download/" + filename;
}

function makePublic(filename) {
    fetch("/public/" + filename, { method: "POST" }).then(() => location.reload());
}
</script>
{% endblock %}
